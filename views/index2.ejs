<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WheelBazaar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@v1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="script/script.js"></script>
    <link rel="stylesheet" href="CSS/style.css">
    <style>
      #carouselExampleAutoplaying {
        max-width: 800px;
        max-height: 400px;
        min-width: 800px;
        min-height: 400px;
        margin: auto;
        overflow: hidden;
      }
      #carouselExampleAutoplaying img {
        object-fit: cover;
        width: 800px;
        height: 400px;
      }
    </style>

  </head>
  <body>
      <%-include('layouts/navbar.ejs',{company_names: company_names,car_types:car_types,authorized: authorized,user_info:user_info}) %>
      <main>
        <div class="container" id="searchRes">

        </div>
        <div class="container d-flex justify-content-center align-items-center">
        <div id="carouselExampleAutoplaying" class="carousel slide carousel-fade" data-bs-ride="carousel">
          <div class="carousel-inner" style="border-color: black;border-width: 50px;">
            <div class="carousel-item active">
              <img src="<%=trending[0].CAR_IMAGE_URL%>" class="d-block w-100 img-fluid" alt="..." >
              <div class="carousel-caption d-none d-md-block" style="color: white; background: rgba(0, 0, 0, 0.5);">
                <h5><%=trending[0].MODEL_NAME%></h5>
                <p>Some representative placeholder content for the first slide.</p>
              </div>
            </div>
            <% for(var i=1;i<trending.length;i++) { %>
              <div class="carousel-item">
                <img src="<%=trending[i].CAR_IMAGE_URL%>" class="d-block w-100 img-fluid" alt="..." >
                <div class="carousel-caption d-none d-md-block" style="color: white; background: rgba(0, 0, 0, 0.5);">
                  <h5><%=trending[i].MODEL_NAME%></h5>
                  <p>Some representative placeholder content for the first slide.</p>
                </div>
              </div>
            <%}%>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev" >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        </div>
      </main>
      <%-include('layouts/footer.ejs',{})%>
      <script>
        // Get all buttons with the common class
        var brand_buttons = document.getElementsByName('brand_buttons');
        
        for (var i = 0; i < brand_buttons.length; i++) {
          brand_buttons[i].addEventListener('click', function() {
            // Call the common function when any button is clicked
            fetchResultsBrand(this,'<%=user_info[0].ID%>');
          });
        }

        var type_buttons = document.getElementsByName('type_buttons');
        
        for (var i = 0; i < type_buttons.length; i++) {
          type_buttons[i].addEventListener('click', function() {
            // Call the common function when any button is clicked
            fetchResultsType(this,'<%=user_info[0].ID%>');
          });
        }
        
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>